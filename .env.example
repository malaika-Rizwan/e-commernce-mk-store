# ===========================================
# E-Commerce App - Environment Variables
# ===========================================
# Copy to .env.local for local dev, or set in Vercel/Render for production.
# Never commit .env.local or real secrets to version control.

# -------------------------------------------
# App URL (required for production)
# -------------------------------------------
# Full URL where the app is hosted (no trailing slash)
# Local:  http://localhost:3000
# Vercel: https://your-app.vercel.app
NEXT_PUBLIC_APP_URL=http://localhost:3000

# -------------------------------------------
# MongoDB Atlas
# -------------------------------------------
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<dbname>?retryWrites=true&w=majority
# Replace <password> with your database user password. If password has special chars, URL-encode them.
# Add your IP (or 0.0.0.0/0) in Atlas → Network Access.
# Example for Cluster0:
# MONGODB_URI=mongodb+srv://USERNAME:YOUR_PASSWORD@cluster0.5gdjd2j.mongodb.net/ecommerce?retryWrites=true&w=majority
MONGODB_URI=mongodb+srv://<user>:<password>@<cluster>.mongodb.net/<dbname>?retryWrites=true&w=majority

# -------------------------------------------
# JWT (required)
# -------------------------------------------
# Generate: openssl rand -base64 32
# Must be set in production; never use the fallback in production.
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# -------------------------------------------
# Pay with Card – Pakistan / South Africa (cards & wallets)
# -------------------------------------------
# Used when user clicks "Pay with Card". Your gateway must accept POST with
# merchantId, amount, currency, orderId, returnUrl, cancelUrl and return paymentUrl/redirectUrl.
CARD_PAYMENT_API_URL=https://your-gateway.com/api/v1/payments
CARD_PAYMENT_MERCHANT_ID=your_merchant_id
CARD_PAYMENT_API_KEY=your_api_key
# Optional: currency (default PKR)
# CARD_PAYMENT_CURRENCY=PKR
# Optional: if gateway expects API key in a custom header name
# CARD_PAYMENT_API_HEADER_KEY=X-Api-Key

# -------------------------------------------
# JazzCash (Pakistan) – enable by setting below. Test: JAZZCASH_USE_SANDBOX=true
# -------------------------------------------
# JAZZCASH_USE_SANDBOX=true
# JAZZCASH_SANDBOX_URL=https://sandbox.jazzcash.com.pk/...
JAZZCASH_API_URL=https://payments.jazzcash.com.pk/...
JAZZCASH_MERCHANT_ID=
JAZZCASH_PASSWORD=
# JAZZCASH_SECURE_HASH=

# -------------------------------------------
# Easypaisa (Pakistan) – enable by setting below. Test: EASYPAISA_USE_SANDBOX=true
# -------------------------------------------
# EASYPAISA_USE_SANDBOX=true
# EASYPAISA_SANDBOX_URL=https://sandbox.easypay.com.pk/...
EASYPAISA_API_URL=https://easypay.easypaisa.com.pk/...
EASYPAISA_STORE_ID=
EASYPAISA_HASH_KEY=

# -------------------------------------------
# Safepay (Pakistan) – enable by setting below. Test: SAFEPAY_USE_SANDBOX=true
# -------------------------------------------
# SAFEPAY_USE_SANDBOX=true
# SAFEPAY_SANDBOX_URL=https://sandbox.safepay.com.pk/...
SAFEPAY_API_URL=https://api.safepay.com.pk/...
SAFEPAY_API_KEY=

# -------------------------------------------
# Stripe (international – optional; omit to use only local gateways)
# -------------------------------------------
# Dashboard: https://dashboard.stripe.com/apikeys
# STRIPE_SECRET_KEY=sk_test_xxxxxxxx
# STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxx
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxx

# -------------------------------------------
# Cloudinary (image uploads)
# -------------------------------------------
# Console: https://console.cloudinary.com/
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# -------------------------------------------
# Email / OTP (required for signup verification, password reset, order confirmation)
# -------------------------------------------
# Option A – Resend (recommended: faster, higher limits). Get key: https://resend.com/api-keys
# If set, Resend is used instead of SMTP. From address: use a verified domain or onboarding@resend.dev for testing.
RESEND_API_KEY=
RESEND_FROM=MK Store <onboarding@resend.dev>

# Option B – SMTP (e.g. Gmail). Use App Password: https://support.google.com/accounts/answer/185833
# Used when RESEND_API_KEY is not set.
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=rtua pdmf zpof tuip
SMTP_FROM=MK Store <your-email@gmail.com>

# -------------------------------------------
# Upstash Redis (optional – rate limiting)
# -------------------------------------------
# When set, rate limits (OTP, login, checkout) use Redis instead of in-memory. Works across restarts/serverless.
# Create a Redis database at https://console.upstash.com/
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# -------------------------------------------
# OpenAI (AI product image generation - admin)
# -------------------------------------------
# Get from https://platform.openai.com/api-keys
# OPENAI_API_KEY=sk-xxxxxxxx
